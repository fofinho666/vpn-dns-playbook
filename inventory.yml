---
all:
  hosts:
    server:
      ansible_host: "{{ host }}"
      ansible_user: "{{ user}}"

  vars:
    docker_users:
      - "{{ user}}"
      
    authelia_subdomain: "auth.{{ domain }}"

    wireguard_subdomain: "wg.{{ domain }}"
    wireguard_subnet: 10.8.0.x
    wireguard_ip_range: 10.8.0.0/24

    default_services:
      - name: Wireguard
        subdomain: "{{ wireguard_subdomain }}"
        url: http://wireguard:51821
        external: true
      - name: Portainer
        subdomain: "portainer.{{ domain }}"
        url: http://portainer:9000
        external: true
      - name: AdGuard
        subdomain: "adguard.{{ domain }}"
        url: http://adguard-unbound:3000
        use_cors: true

    services: "{{ default_services + (secret_services | default([])) }}"

    # It can be "quad9" "google" or "cloudflare"
    dns_nameservers: cloudflare

    docker_dir: /opt/docker

    # docker_network
    docker_network_subnet: 10.8.2.0/24
    docker_ip_range: 10.8.2.0/24
    docker_gateway: 10.8.2.1
    adguard_docker_address: 10.8.2.2
    redis_docker_address: 10.8.2.3
    authelia_docker_address: 10.8.2.4
    nginx_docker_address: 10.8.2.5
    wireguard_docker_address: 10.8.2.6
    portainer_docker_address: 10.8.2.7
    homer_docker_address: 10.8.2.8

    http_port: "80"
    https_port: "443"
    dns_port: "53"
    bootp_server_port: "67"

    ufw_ports:
      - port: "{{ wireguard_tunnel_port }}"
        proto: udp
      - port: "{{ http_port }}"
        proto: tcp
      - port: "{{ https_port }}"
        proto: tcp
      - port: "{{ ssh_port }}"
        proto: tcp
      - port: "{{ dns_port }}"
        proto: any
      - port: "{{ bootp_server_port }}"
        proto: any
